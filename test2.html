<!DOCTYPE html>
<html lang="en">

<head>
    <!-- metas -->
    <meta charset="utf-8">
    <meta name="author" content="pxdraft">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- title -->
    <!-- Primary Meta Tags -->
    <title>Nebiyu - Portfolio</title>
    <meta name="title" content="Nebiyu - Portfolio" />
    <meta name="description" content="Hi, I am Nebiyu Daniel, a graphics designer based in Addis Ababa." />

    <!-- Mobile Compatibility -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nebadesign.me/" />
    <meta property="og:title" content="Nebiyu - Portfolio" />
    <meta property="og:description" content="Hi, I am Nebiyu Daniel, a graphics designer based in Addis Ababa." />
    <meta property="og:image" content="https://raw.githubusercontent.com/NebaNebo/NebaNebo-web/main/assets/img/metatage.jpg" />
    <meta property="og:image:alt" content="Nebiyu's Portfolio" />
    <meta property="og:site_name" content="nebadesign.me" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://nebadesign.me/" />
    <meta property="twitter:title" content="Nebiyu - Portfolio" />
    <meta property="twitter:description" content="Hi, I am Nebiyu Daniel, a graphics designer based in Addis Ababa." />
    <meta property="twitter:image" content="https://raw.githubusercontent.com/NebaNebo/NebaNebo-web/main/assets/img/metatage.jpg" />
    <meta name="twitter:image:alt" content="Nebiyu's Portfolio" />

    <!-- Favicon -->
    <link rel="icon" href="path/to/favicon.ico" type="image/x-icon" />

    <!-- Future Compatibility -->
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="author" content="Nebiyu Daniel" />

    <!-- Meta Tags Generated with https://metatags.io -->


    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png">
    <link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap/icons/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/owl-carousel/css/owl.carousel.min.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/magnific/magnific-popup.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.18.0/css/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lg-thumbnail@1.2.0/dist/lg-thumbnail.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css">
    <script src="https://cdn.jsdelivr.net/npm/lg-thumbnail@1.2.0/dist/lg-thumbnail.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


    <!-- theme css -->
    <link href="assets/css/main.css" rel="stylesheet">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var links = document.querySelectorAll('a[data-scroll-nav]');

            links.forEach(function(link) {
                link.addEventListener("click", function(e) {
                    e.preventDefault();
                    var targetId = this.getAttribute('href').substring(1);
                    var targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        var offsetTop = targetElement.offsetTop;
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            window.addEventListener("scroll", function() {
                var scrollPos = window.scrollY;

                links.forEach(function(link) {
                    var targetId = link.getAttribute('href').substring(1);
                    var targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        var elementTop = targetElement.offsetTop;
                        var elementBottom = elementTop + targetElement.offsetHeight;

                        if (elementTop <= scrollPos && elementBottom > scrollPos) {
                            links.forEach(function(link) {
                                link.classList.remove('active');
                            });
                            link.classList.add('active');
                        } else {
                            link.classList.remove('active');
                        }
                    }
                });
            });
        });
    </script>
    <script>
        var $j = jQuery.noConflict();

        $j(document).ready(function() {
            var WEA = {};

            WEA.MenuTogglerClose = function() {
                $j("#mobile_toggle1").on('click', function() {
                    $j(this).toggleClass('open');
                    $j('.main-header').stop().toggleClass('menu-open menu-open-desk');
                });

                $j('.main-header a,  .hl_menu_close').on('click', function() {
                    var toggle = $j('#mobile_toggle1').is(':visible');
                    if (toggle) {
                        $j('.main-header').removeClass('menu-open').removeClass('menu-open-desk');
                        $j('#mobile_toggle1').removeClass('open');
                    }
                });
            }

            WEA.HeaderFixd = function() {
                var HscrollTop = $j(window).scrollTop();
                if (HscrollTop >= 100) {
                    $j('body').addClass('fixed-header');
                } else {
                    $j('body').removeClass('fixed-header');
                }
            }

            // Call your functions
            WEA.MenuTogglerClose();
            WEA.HeaderFixd();

            // Additional JavaScript code can be added here
        });
    </script>


    <script>
        // On page load or when changing themes, best to add inline in `head` to avoid FOUC
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>



</head>
<!-- Body Start -->

<body>
    <!-- page loading -->

    <!-- End -->
    <!-- Mobile Header -->
    <div class="mobile-header flex lg:hidden">
        <!-- Logo -->
        <div class="logo">
            <a href="index.html#"><img src="assets/img/logo2.png" title="" alt=""></a>
        </div>
        <!-- Mobile Toggle -->
        <button id="mobile_toggle1" class="ml-auto mobile_toggle1 w-[40px] flex flex-col">
            <span class="w-[25px] h-[2px] bg-slate-900 dark:bg-white inline-block"></span>
            <span class="w-[25px] h-[2px] bg-slate-900 dark:bg-white inline-block my-[5px]"></span>
            <span class="w-[25px] h-[2px] bg-slate-900 dark:bg-white inline-block"></span>
        </button>
    </div>

    <!-- Header -->
    <header class="main-header one-page-nav">
        <!-- Logo -->
        <div class="logo bg-theme-500">
            <a href="#"><img src="assets/img/logo2.svg" title="" alt=""></a>
        </div>
        <div class="navbar-collapse">
            <ul class="nav nav-menu">
                <li>
                    <a class="nav-link active" data-scroll-nav="0" href="#home">
                        <span>HOME</span>
                        <i class="fas fa-house-damage"></i>
                    </a>
                </li>
                <li>
                    <a class="nav-link" data-scroll-nav="1" href="#about">
                        <span>ABOUT</span>
                        <i class="far fa-address-card"></i>
                    </a>
                </li>
                <li>
                    <a class="nav-link" data-scroll-nav="3" href="#work">
                        <span>WORK</span>
                        <i class="fas fa-briefcase"></i>
                    </a>
                </li>
                <li>
                    <a class="nav-link" data-scroll-nav="5" href="#contactus">
                        <span>CONTACT</span>
                        <i class="fas fa-id-card-alt"></i>
                    </a>
                </li>
            </ul>
        </div>
        <!-- Theme Color Switch -->
        <div class="theme-color mt-auto">
            <button id="theme-toggle" type="button">
                <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                </svg>
                <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                        fill-rule="evenodd" clip-rule="evenodd"></path>
                </svg>
            </button>
        </div>
    </header>
    <main class="wrapper main-left">

        <section data-scroll-index="3" id="work" class="section bg-gray">
            <div class="container">
                <div class="title">
                    <h3>My Portfolio.</h3>
                </div>
                <div class="portfolio-filter-01">
                    <ul class="filter flex">
                        <li class="active" data-filter="*">All</li>
                        <li data-filter=".branding">Branding</li>
                        <li data-filter=".designs">Designs</li>
                        <li data-filter=".3drender">3D Render</li>
                    </ul>
                </div>
                <!-- Portfolio Filter -->
                <div class="portfolio-content grid-gutter-lg grid-col-3 lightbox-gallery" id="postsContainer">





                </div>
                <div id="loadingIndicator" style="display: none;">Loading...</div>


        </section>

    </main>
    <script>
        const postsContainer = document.getElementById('postsContainer');
        const loadingIndicator = document.getElementById('loadingIndicator');

        let latestPostId = null;
        let loading = false;
        let loadedPostIds = [];

        async function fetchPosts() {
            if (loading) return;
            loading = true;

            // Show loading indicator
            loadingIndicator.style.display = 'block';

            const customChannelUsername = "tikvahethiopia"; // Set the channel username

            const endpoint = latestPostId ?
                `/get_posts/${customChannelUsername}?before=${latestPostId}&order=desc` :
                `/get_posts/${customChannelUsername}?order=desc`;
            try {
                const response = await fetch(`https://telegram-channel-scraper-api.vercel.app/api/v2${endpoint}`);
                const posts = await response.json();

                if (posts.length > 0) {
                    // Sort posts in descending order based on ID
                    posts.sort((a, b) => b.id - a.id);

                    // Filter out repeated posts
                    const uniquePosts = posts.filter(post => !loadedPostIds.includes(post.id));

                    if (latestPostId) {
                        // Load More: Update the latest post ID with the minimum post ID
                        const minPostId = Math.min(...posts.map(post => post.id));
                        latestPostId = minPostId;
                    } else {
                        // Initial load: Save the new latest post ID
                        latestPostId = posts[0].id + 1;
                    }

                    // Append unique posts to the container
                    uniquePosts.forEach(post => {
                        const cardElement = document.createElement('div');
                        cardElement.className = 'grid-item product 3drender';
                        cardElement.innerHTML = `
                  <div class="portfolio-box-01">
                      <div class="portfolio-info">
                          <h5 class="text-white font-bold"></h5>
                          <span>${post.id}</span>
                          <p></p>
                      </div>
                      <div class="portfolio-img">
                          <img src="${post.photos[0]}" title="" alt="">
                          <div class="portfolio-icon">
                              <p></p>
                              <a href="${post.photos[0]}" class="gallery-link">
                                  <i class="fa fa-eye" aria-hidden="true"></i>
                              </a>
                          </div>
                      </div>
                  </div>
                `;
                        postsContainer.appendChild(cardElement);
                        loadedPostIds.push(post.id);
                    });

                    loading = false;
                } else {
                    // No more posts
                    window.removeEventListener('scroll', handleScroll);
                    loadMoreBtn.disabled = true;
                    loadMoreBtn.textContent = 'No More Posts';
                }
            } catch (error) {
                console.error('Error fetching posts:', error);
                loading = false;
            }

            // Hide loading indicator
            loadingIndicator.style.display = 'none';
        }

        function handleScroll() {
            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1200) {
                // Load more posts when the user is near the bottom
                fetchPosts();
            }
        }

        // Initial load
        fetchPosts();

        // Add scroll event listener for infinite scrolling
        window.addEventListener('scroll', handleScroll);
    </script>

    <script src="assets/js/jquery-3.5.1.min.js"></script>
    <script src="assets/vendor/appear/jquery.appear.js"></script>
    <script src="assets/vendor/one-page/scrollIt.min.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/dark.js"></script>
</body>

</html>